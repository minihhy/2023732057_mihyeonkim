# 예제 1 — Spring-Mass-Damper System

## 1. 문제 개요
- 스프링, 질량, 감쇠기(damper)로 구성된 **2차 동적 시스템**  
- 외력 \(r(t)\)이 질량 \(M\)에 작용할 때, 변위 \(y(t)\)의 거동을 분석  
- 목표: 상태변수를 정의하고 **상태방정식(State Equation)** 을 유도  

---

## 2. 시스템 구성

| 구성 요소 | 기호 | 의미 |
|------------|------|------|
| 질량 | \(M\) | 관성 요소 (에너지 저장) |
| 스프링 | \(k\) | 복원력 제공 |
| 감쇠기 | \(b\) | 속도 비례 마찰력 |
| 입력 | \(r(t)\) | 외부에서 가해지는 힘 |
| 출력 | \(y(t)\) | 질량의 변위 |

---

## 3. 수학적 모델링

- **운동방정식:**
  ![eq1](https://latex.codecogs.com/svg.image?M%5Cddot%7By%7D(t)%2Bb%5Cdot%7By%7D(t)%2Bk%7By%7D(t)%3Dr(t))

---

## 4. 상태 변수 정의
- 상태 변수 2개를 다음과 같이 정의:
  ![eq2](https://latex.codecogs.com/svg.image?x_1%3Dy(t)%2C%5Cquad%20x_2%3D%5Cdot%7By%7D(t))
- 즉,  
  - \(x_1\): 변위  
  - \(x_2\): 속도  

---

## 5. 상태 방정식 유도

- 위 식을 상태변수로 표현하면:
  ![eq3](https://latex.codecogs.com/svg.image?\dot{x}_1%3Dx_2)
  ![eq4](https://latex.codecogs.com/svg.image?\dot{x}_2%3D-\frac{k}{M}x_1-\frac{b}{M}x_2+\frac{1}{M}r(t))

- **행렬 형태로 표현:**
  ![eq5](https://latex.codecogs.com/svg.image?\dot{x}(t)%3D%5Cbegin%7Bbmatrix%7D0%261%5C%5C-%5Cfrac%7Bk%7D%7BM%7D&-%5Cfrac%7Bb%7D%7BM%7D%5Cend%7Bbmatrix%7Dx(t)%2B%5Cbegin%7Bbmatrix%7D0%5C%5C%5Cfrac%7B1%7D%7BM%7D%5Cend%7Bbmatrix%7Dr(t))

- **출력 방정식:**
  ![eq6](https://latex.codecogs.com/svg.image?y(t)%3D%5B1%5C%200%5D%5C%2Cx(t))

---

## 6. 상태방정식 요약

\[
\begin{cases}
\dot{x}(t) = A x(t) + B r(t) \\
y(t) = C x(t)
\end{cases}
\]

이를 깃허브 호환식으로 표현하면:

![eq7](https://latex.codecogs.com/svg.image?A%3D%5Cbegin%7Bbmatrix%7D0%261%5C%5C-%5Cfrac%7Bk%7D%7BM%7D&-%5Cfrac%7Bb%7D%7BM%7D%5Cend%7Bbmatrix%7D%2C%5Cquad%20B%3D%5Cbegin%7Bbmatrix%7D0%5C%5C%5Cfrac%7B1%7D%7BM%7D%5Cend%7Bbmatrix%7D%2C%5Cquad%20C%3D%5B1%5C%200%5D)

---

## 7. 물리적 의미 요약

| 항목 | 의미 |
|------|------|
| \(A\) | 시스템 고유 특성 (스프링, 감쇠기, 질량) |
| \(B\) | 입력이 상태변화에 미치는 영향 |
| \(C\) | 상태에서 출력으로의 변환 |
| \(r(t)\) | 외부 힘 (입력) |
| \(y(t)\) | 질량의 변위 (출력) |

---

## 8. MATLAB 구현 예시

```matlab
% Spring-Mass-Damper State-Space Representation
M = 2;    % mass (kg)
b = 4;    % damping coefficient (N·s/m)
k = 20;   % spring constant (N/m)

A = [0 1; -k/M -b/M];
B = [0; 1/M];
C = [1 0];
D = 0;

sys = ss(A, B, C, D);
initial(sys, [0.1; 0], 5);   % 초기 변위 0.1m, 시간 5초 시뮬레이션
